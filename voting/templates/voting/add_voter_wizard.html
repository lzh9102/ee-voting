{% extends 'voting/layout-admin.html' %}
{% load i18n %}

{% block content %}

<div class="row">
  <div class="col-lg-12">
    <h2>{% block title %}{% trans "Add Voters" %}{% endblock %}</h2>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">

    <p>{% blocktrans with step=wizard.steps.step1 total=wizard.steps.count%}Step {{ step }} of {{ total }}{% endblocktrans %}</p>
    <form action="" method="post">
      {% csrf_token %}
      <p>
        <table>
          {{ wizard.management_form }}
          {% if wizard.form.forms %}
          {{ wizard.form.management_form }}
          {% for form in wizard.form.forms %}
          {{ form }}
          {% endfor %}
          {% else %}
          {{ wizard.form }}
          {% endif %}
        </table>
      </p>

      {% if wizard.steps.current == wizard.steps.last %}
      <!-- confirm voter creation -->
      <table class="table table-striped table-bordered table-hover">
        <thead>
          <th>{% trans "ID" %}</th>
          <th>{% trans "Name" %}</th>
        </thead>
        <tbody>
          {% for name, id in voters %}
          <tr>
            <td>{{ id }}</td>
            <td>{{ name }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% endif %}

      <!-- cancel button -->
      <a href="{{ voting_event.url_edit }}" class="btn btn-default">
        {% trans "Cancel" %}
      </a>

      {% if wizard.steps.prev %}
      <button class="btn btn-default" name="wizard_goto_step" type="submit"
        value="{{ wizard.steps.prev }}">{% trans "Back" %}</button>
      {% endif %}

      {% if wizard.steps.next %}
      <button class="btn btn-primary" type="submit"
                                      value="{{ wizard.steps.next }}">{% trans "Next" %}</button>
      {% else %}
      <button class="btn btn-primary" type="submit">{% trans "Submit" %}</button>
      {% endif %}

    </form>

  </div>
</div>

{% endblock content %}
